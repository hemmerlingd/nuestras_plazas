var disciplinas=[];!function(a){0==disciplinas.length&&a.get("https://gobiernoabierto.cordoba.gob.ar/api/disciplina-actividad/?audiencia_id=4").then(function(a){disciplinas=a.results.map(function(a){return{text:a.nombre,value:a.id}})}),tinymce.create("tinymce.plugins.lactivcba_plugin",{init:function(a,b){a.addCommand("lactivcba_insertar_shortcode",function(){selected=tinyMCE.activeEditor.selection.getContent();var b="";a.windowManager.open({title:"Listado de actividades",body:[{type:"textbox",name:"titulo",label:"TÃ­tulo"},{type:"listbox",name:"disciplina",label:"Disciplina",values:disciplinas},{type:"textbox",name:"cant",label:"Cantidad de Resultados"}],onsubmit:function(b){a.insertContent('[lista_actividades_cba titulo="'+b.data.titulo+'" cant="'+b.data.cant+'" disciplina="'+b.data.disciplina+'"]')}}),tinymce.execCommand("mceInsertContent",!1,b)}),a.addButton("lactivcba_button",{title:"Insertar lista de actividades",cmd:"lactivcba_insertar_shortcode",image:b.replace("/js","")+"/images/logo-shortcode.png"})}}),tinymce.PluginManager.add("lactivcba_button",tinymce.plugins.lactivcba_plugin)}(jQuery);